{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///build.js","webpack:///webpack/bootstrap ef767fcb077d9cdd5111","webpack:///./index.js","webpack:///./~/custom-event/index.js","webpack:///external {\"commonjs\":\"hammerjs\",\"commonjs2\":\"hammerjs\",\"root\":\"Hammer\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_hammerjs","_hammerjs2","_customEvent","_customEvent2","PhotoViewManager","options","arguments","undefined","defaultOptions","maxScale","enableMultiZoom","snapToGrid","tapToZoom","assign","selector","container","document","querySelectorAll","image","_manager","Manager","touchAction","_registerGestures","_registerEvents","scale","deltaX","deltaY","console","warn","type","detail","event","bubbles","cancelable","dispatchEvent","tap","Tap","taps","doubleTap","pan","Pan","direction","DIRECTION_ALL","threshold","pinch","Pinch","gestures","recognizeWith","requireFailure","splice","add","midScale","_dispatchEvent","_this","on","e","_e$center","center","x","y","_getZoomLevel","_setTransition","_transform","handleTouchEvent","clearTimeout","panTimer","_enableGesture","_e$center2","pinchX","pinchY","additionalEvent","setTimeout","_","srcEvent","stopPropagation","currentDeltaX","isNaN","currentDeltaY","_adjustSnapPositions","style","transform","imageOffsetLeft","offsetLeft","imageOffsetTop","offsetTop","width","adjustWidth","height","adjustHeight","_onTransformEnd","gesture","get","set","enable","transition","off","_unregisterEvents","PhotoView","_this2","instances","slice","Array","elements","forEach","item","push","init","photoViewInstance","reset","destroy","useNative","NativeCustomEvent","foo","CustomEvent","createEvent","params","initCustomEvent","createEventObject","Boolean"],"mappings":"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","file":"build.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"hammerjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoView\"] = factory(require(\"hammerjs\"));\n\telse\n\t\troot[\"PhotoView\"] = factory(root[\"Hammer\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"hammerjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PhotoView\"] = factory(require(\"hammerjs\"));\n\telse\n\t\troot[\"PhotoView\"] = factory(root[\"Hammer\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _hammerjs = __webpack_require__(3);\n\t\n\tvar _hammerjs2 = _interopRequireDefault(_hammerjs);\n\t\n\tvar _customEvent = __webpack_require__(2);\n\t\n\tvar _customEvent2 = _interopRequireDefault(_customEvent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PhotoViewManager = function () {\n\t  function PhotoViewManager() {\n\t    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    _classCallCheck(this, PhotoViewManager);\n\t\n\t    var defaultOptions = {\n\t      maxScale: 2,\n\t      enableMultiZoom: false,\n\t      snapToGrid: true,\n\t      tapToZoom: false\n\t    };\n\t\n\t    this.options = Object.assign(defaultOptions, options);\n\t    return this;\n\t  }\n\t\n\t  _createClass(PhotoViewManager, [{\n\t    key: 'init',\n\t    value: function init(selector) {\n\t      var container = typeof selector === 'string' ? document.querySelectorAll(selector)[0] : selector;\n\t      if (!container) {\n\t        console.warn('You must provide a valid container for PhotoView (selector \"' + selector + '\" did not match any element)');\n\t        return;\n\t      }\n\t\n\t      this.image = container.querySelectorAll('img')[0];\n\t      if (!this.image) {\n\t        console.warn('You must have a valid img tag inside your container');\n\t        return;\n\t      }\n\t\n\t      this._manager = new _hammerjs2.default.Manager(this.image, { touchAction: 'pan-y' });\n\t      this._registerGestures();\n\t      this._registerEvents();\n\t      this.scale = 1;\n\t      this.deltaX = 0;\n\t      this.deltaY = 0;\n\t      return this;\n\t    }\n\t  }, {\n\t    key: '_dispatchEvent',\n\t    value: function _dispatchEvent(type, detail) {\n\t      var event = new _customEvent2.default(type, {\n\t        bubbles: true,\n\t        cancelable: true,\n\t        detail: detail\n\t      });\n\t\n\t      document.dispatchEvent(event);\n\t    }\n\t  }, {\n\t    key: '_registerGestures',\n\t    value: function _registerGestures() {\n\t      var tap = new _hammerjs2.default.Tap({ event: 'zoom', taps: 1 });\n\t      var doubleTap = new _hammerjs2.default.Tap({ event: 'zoom', taps: 2 });\n\t      var pan = new _hammerjs2.default.Pan({ direction: _hammerjs2.default.DIRECTION_ALL, threshold: 10 });\n\t      var pinch = new _hammerjs2.default.Pinch();\n\t      var gestures = [pinch, doubleTap, pan];\n\t      if (this.options.tapToZoom) {\n\t        doubleTap.recognizeWith(tap);\n\t        tap.requireFailure(doubleTap);\n\t        gestures.splice(2, -1, tap);\n\t      }\n\t\n\t      this._manager.add(gestures);\n\t    }\n\t  }, {\n\t    key: '_getZoomLevel',\n\t    value: function _getZoomLevel() {\n\t      var scale = void 0;\n\t      if (this.options.enableMultiZoom) {\n\t        var midScale = this.options.maxScale / 2;\n\t        scale = this.scale === 1 ? midScale : this.scale === midScale ? this.options.maxScale : 1;\n\t      } else {\n\t        scale = this.scale > 1 ? 1 : this.options.maxScale;\n\t      }\n\t\n\t      return scale;\n\t    }\n\t  }, {\n\t    key: 'handleTouchEvent',\n\t    value: function handleTouchEvent() {\n\t      this._dispatchEvent('photoview.scale.changed', { scale: this.scale });\n\t    }\n\t  }, {\n\t    key: '_registerEvents',\n\t    value: function _registerEvents() {\n\t      var _this = this;\n\t\n\t      this._manager.on('zoom', function (e) {\n\t        var _e$center = e.center;\n\t        var x = _e$center.x;\n\t        var y = _e$center.y;\n\t\n\t        var scale = _this._getZoomLevel();\n\t        _this._setTransition(true);\n\t        _this._transform(x, y, scale);\n\t        _this.handleTouchEvent();\n\t      });\n\t\n\t      this._manager.on('pinchstart', function (e) {\n\t        clearTimeout(_this.panTimer);\n\t        _this._enableGesture('pan', false);\n\t        var _e$center2 = e.center;\n\t        var x = _e$center2.x;\n\t        var y = _e$center2.y;\n\t\n\t        _this._setTransition(true);\n\t\n\t        if (_this.scale === 1) {\n\t          _this.pinchX = x;\n\t          _this.pinchY = y;\n\t        }\n\t      });\n\t\n\t      this._manager.on('pinch', function (e) {\n\t        if (e.additionalEvent === 'pinchout') {\n\t          _this._transform(_this.pinchX, _this.pinchY, _this.options.maxScale);\n\t        } else if (e.additionalEvent === 'pinchin') {\n\t          _this._transform(0, 0, 1);\n\t        }\n\t\n\t        _this.handleTouchEvent();\n\t      });\n\t\n\t      this._manager.on('pinchend', function (e) {\n\t        _this.panTimer = setTimeout(function (_) {\n\t          return _this._enableGesture('pan', true);\n\t        }, 1000);\n\t      });\n\t\n\t      this._manager.on('panstart', function (e) {\n\t        _this._setTransition(false);\n\t      });\n\t\n\t      this._manager.on('pan', function (e) {\n\t        if (_this.scale === 1) {\n\t          return;\n\t        }\n\t\n\t        e.srcEvent.stopPropagation();\n\t        _this.currentDeltaX = (isNaN(_this.deltaX) ? 0 : _this.deltaX) + e.deltaX;\n\t        _this.currentDeltaY = (isNaN(_this.deltaY) ? 0 : _this.deltaY) + e.deltaY;\n\t        if (_this.options.snapToGrid) {\n\t          _this._adjustSnapPositions();\n\t        }\n\t\n\t        _this._setTransition(false);\n\t        _this.image.style.transform = 'translate3d(' + _this.currentDeltaX + 'px, ' + _this.currentDeltaY + 'px, 0px) scale(' + _this.scale + ')';\n\t      });\n\t\n\t      this._manager.on('panend', function (e) {\n\t        _this.deltaX = _this.currentDeltaX;\n\t        _this.deltaY = _this.currentDeltaY;\n\t      });\n\t    }\n\t  }, {\n\t    key: '_adjustSnapPositions',\n\t    value: function _adjustSnapPositions() {\n\t      var imageOffsetLeft = this.image.offsetLeft;\n\t      var imageOffsetTop = this.image.offsetTop;\n\t      if (this.currentDeltaX + imageOffsetLeft > this.x) {\n\t        this.currentDeltaX = this.x - imageOffsetLeft;\n\t      } else if (this.x - this.currentDeltaX + imageOffsetLeft > this.image.width) {\n\t        var adjustWidth = this.x - this.currentDeltaX + imageOffsetLeft - this.image.width;\n\t        this.currentDeltaX = this.currentDeltaX + adjustWidth;\n\t      }\n\t\n\t      if (this.currentDeltaY + imageOffsetTop > this.y) {\n\t        this.currentDeltaY = this.y - imageOffsetTop;\n\t      } else if (this.y - this.currentDeltaY + imageOffsetTop > this.image.height) {\n\t        var adjustHeight = this.y - this.currentDeltaY + imageOffsetTop - this.image.height;\n\t        this.currentDeltaY = this.currentDeltaY + adjustHeight;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_transform',\n\t    value: function _transform(x, y, scale) {\n\t      if (scale === 1) {\n\t        x = this.x;y = this.y;\n\t      } else {\n\t        x -= this.image.offsetLeft;\n\t        y -= this.image.offsetTop;\n\t      }\n\t\n\t      this.image.style['transformOrigin'] = x + 'px ' + y + 'px';\n\t      this.image.style.transform = 'scale3d(' + scale + ',' + scale + ',1)';\n\t      this.x = x;\n\t      this.y = y;\n\t      this.scale = scale;\n\t      this._onTransformEnd();\n\t    }\n\t  }, {\n\t    key: '_onTransformEnd',\n\t    value: function _onTransformEnd() {\n\t      if (this.scale <= 1) {\n\t        this.deltaX = this.deltaY = 0;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_enableGesture',\n\t    value: function _enableGesture(gesture, value) {\n\t      this._manager.get(gesture).set({ enable: value });\n\t    }\n\t  }, {\n\t    key: '_setTransition',\n\t    value: function _setTransition(value) {\n\t      this.image.style.transition = value ? 'transform 0.5s' : 'none';\n\t    }\n\t  }, {\n\t    key: '_unregisterEvents',\n\t    value: function _unregisterEvents() {\n\t      this._manager.off('pan');\n\t      this._manager.off('pinch');\n\t      this._manager.off('zoom');\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.image.style.transform = 'none';\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this._unregisterEvents();\n\t      this._manager = null;\n\t    }\n\t  }]);\n\t\n\t  return PhotoViewManager;\n\t}();\n\t\n\tvar PhotoView = function () {\n\t  function PhotoView(selector) {\n\t    var _this2 = this;\n\t\n\t    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    _classCallCheck(this, PhotoView);\n\t\n\t    this.instances = [];\n\t    var slice = Array.prototype.slice;\n\t    var elements = slice.call(document.querySelectorAll(selector));\n\t    elements.forEach(function (item) {\n\t      _this2.instances.push(new PhotoViewManager(options).init(item));\n\t    });\n\t  }\n\t\n\t  _createClass(PhotoView, [{\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.instances.forEach(function (photoViewInstance) {\n\t        photoViewInstance.reset();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'destroy',\n\t    value: function destroy() {\n\t      this.instances.forEach(function (photoViewInstance) {\n\t        photoViewInstance.destroy();\n\t      });\n\t\n\t      this.instances = null;\n\t    }\n\t  }]);\n\t\n\t  return PhotoView;\n\t}();\n\t\n\texports.default = PhotoView;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tvar NativeCustomEvent = ({}).CustomEvent;\n\t\n\tfunction useNative () {\n\t  try {\n\t    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n\t    return  'cat' === p.type && 'bar' === p.detail.foo;\n\t  } catch (e) {\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Cross-browser `CustomEvent` constructor.\n\t *\n\t * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n\t *\n\t * @public\n\t */\n\t\n\tmodule.exports = useNative() ? NativeCustomEvent :\n\t\n\t// IE >= 9\n\t'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n\t  var e = document.createEvent('CustomEvent');\n\t  if (params) {\n\t    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n\t  } else {\n\t    e.initCustomEvent(type, false, false, void 0);\n\t  }\n\t  return e;\n\t} :\n\t\n\t// IE <= 8\n\tfunction CustomEvent (type, params) {\n\t  var e = document.createEventObject();\n\t  e.type = type;\n\t  if (params) {\n\t    e.bubbles = Boolean(params.bubbles);\n\t    e.cancelable = Boolean(params.cancelable);\n\t    e.detail = params.detail;\n\t  } else {\n\t    e.bubbles = false;\n\t    e.cancelable = false;\n\t    e.detail = void 0;\n\t  }\n\t  return e;\n\t}\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** build.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ef767fcb077d9cdd5111\n **/","'use strict';\n\nimport Hammer from 'hammerjs';\nimport CustomEvent from 'custom-event';\n\nclass PhotoViewManager {\n  constructor(options = {}) {\n    const defaultOptions = {\n      maxScale: 2,\n      enableMultiZoom: false,\n      snapToGrid: true,\n      tapToZoom: false\n    };\n\n    this.options = Object.assign(defaultOptions, options);\n    return this;\n  }\n\n  init(selector) {\n    let container = typeof selector === 'string' ? document.querySelectorAll(selector)[0] : selector;\n    if (!container) {\n      console.warn(`You must provide a valid container for PhotoView (selector \"${selector}\" did not match any element)`);\n      return;\n    }\n\n    this.image = container.querySelectorAll('img')[0];\n    if (!this.image) {\n      console.warn(`You must have a valid img tag inside your container`);\n      return;\n    }\n\n    this._manager = new Hammer.Manager(this.image, { touchAction: 'pan-y' });\n    this._registerGestures();\n    this._registerEvents();\n    this.scale = 1;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    return this;\n  }\n  _dispatchEvent(type, detail) {\n    let event = new CustomEvent(\n        type,\n        {\n            bubbles: true,\n            cancelable: true,\n            detail: detail\n        }\n    );\n\n    document.dispatchEvent(event);\n  }\n  _registerGestures() {\n    const tap = new Hammer.Tap({ event: 'zoom', taps: 1 });\n    const doubleTap = new Hammer.Tap({ event: 'zoom', taps: 2 });\n    const pan = new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 10 });\n    const pinch = new Hammer.Pinch();\n    let gestures = [pinch, doubleTap, pan];\n    if(this.options.tapToZoom){\n      doubleTap.recognizeWith(tap);\n      tap.requireFailure(doubleTap);\n      gestures.splice(2,-1, tap);\n    }\n\n    this._manager.add(gestures);\n  }\n\n  _getZoomLevel() {\n    let scale;\n    if (this.options.enableMultiZoom) {\n      let midScale = this.options.maxScale / 2;\n      scale = this.scale === 1 ? midScale : (this.scale === midScale) ? this.options.maxScale : 1;\n    } else {\n      scale = this.scale > 1 ? 1 : this.options.maxScale;\n    }\n\n    return scale;\n  }\n\n  handleTouchEvent() {\n    this._dispatchEvent('photoview.scale.changed', {scale : this.scale})\n  }\n\n  _registerEvents() {\n    this._manager.on('zoom', e => {\n      let {x, y} = e.center;\n      let scale = this._getZoomLevel();\n      this._setTransition(true);\n      this._transform(x, y, scale);\n      this.handleTouchEvent();\n    });\n\n    this._manager.on('pinchstart', e => {\n      clearTimeout(this.panTimer);\n      this._enableGesture('pan', false);\n      let {x, y} = e.center;\n      this._setTransition(true);\n\n      if (this.scale === 1) {\n        this.pinchX = x;\n        this.pinchY = y;\n      }\n\n    });\n\n    this._manager.on('pinch', e => {\n      if (e.additionalEvent === 'pinchout') {\n        this._transform(this.pinchX, this.pinchY, this.options.maxScale);\n      } else if (e.additionalEvent === 'pinchin') {\n        this._transform(0, 0, 1);\n      }\n\n      this.handleTouchEvent();\n    });\n\n    this._manager.on('pinchend', e => {\n      this.panTimer = setTimeout(_ => this._enableGesture('pan', true), 1000);\n    });\n\n    this._manager.on('panstart', e => {\n      this._setTransition(false);\n    });\n\n    this._manager.on('pan', e => {\n      if (this.scale === 1) {\n        return;\n      }\n\n      e.srcEvent.stopPropagation();\n      this.currentDeltaX = (isNaN(this.deltaX) ? 0 : this.deltaX) + e.deltaX;\n      this.currentDeltaY = (isNaN(this.deltaY) ? 0 : this.deltaY) + e.deltaY;\n      if (this.options.snapToGrid) {\n        this._adjustSnapPositions();\n      }\n\n      this._setTransition(false);\n      this.image.style.transform = `translate3d(${this.currentDeltaX}px, ${this.currentDeltaY}px, 0px) scale(${this.scale})`;\n    });\n\n    this._manager.on('panend', e => {\n      this.deltaX = this.currentDeltaX;\n      this.deltaY = this.currentDeltaY;\n    });\n  }\n\n  _adjustSnapPositions() {\n    let imageOffsetLeft = this.image.offsetLeft;\n    let imageOffsetTop = this.image.offsetTop;\n    if (this.currentDeltaX + imageOffsetLeft > this.x) {\n      this.currentDeltaX = this.x - imageOffsetLeft;\n    } else if (this.x - this.currentDeltaX + imageOffsetLeft > this.image.width) {\n      let adjustWidth = (this.x - this.currentDeltaX + imageOffsetLeft) - this.image.width;\n      this.currentDeltaX = (this.currentDeltaX + adjustWidth);\n    }\n\n    if (this.currentDeltaY + imageOffsetTop > this.y) {\n      this.currentDeltaY = (this.y - imageOffsetTop);\n    } else if (this.y - this.currentDeltaY + imageOffsetTop > this.image.height) {\n      let adjustHeight = (this.y - this.currentDeltaY + imageOffsetTop) - this.image.height;\n      this.currentDeltaY = this.currentDeltaY + adjustHeight;\n    }\n\n  }\n\n  _transform(x, y, scale) {\n    if (scale === 1) {\n      x = this.x; y = this.y;\n    } else {\n      x -= this.image.offsetLeft;\n      y -= this.image.offsetTop;\n    }\n\n    this.image.style['transformOrigin'] = `${x}px ${y}px`;\n    this.image.style.transform = `scale3d(${scale},${scale},1)`;\n    this.x = x;\n    this.y = y;\n    this.scale = scale;\n    this._onTransformEnd();\n  }\n\n  _onTransformEnd() {\n    if (this.scale <= 1) {\n      this.deltaX = this.deltaY = 0;\n    }\n  }\n\n  _enableGesture(gesture, value) {\n    this._manager.get(gesture).set({ enable: value });\n  }\n\n  _setTransition(value) {\n    this.image.style.transition = value ? 'transform 0.5s' : 'none';\n  }\n\n  _unregisterEvents() {\n    this._manager.off('pan');\n    this._manager.off('pinch');\n    this._manager.off('zoom');\n  }\n\n  reset() {\n    this.image.style.transform = 'none';\n  }\n\n  destroy() {\n    this._unregisterEvents();\n    this._manager = null;\n  }\n}\n\nclass PhotoView {\n  constructor(selector, options = {}) {\n    this.instances = [];\n    let slice = Array.prototype.slice;\n    let elements = slice.call(document.querySelectorAll(selector));\n    elements.forEach(item => {\n      this.instances.push(\n        new PhotoViewManager(options).init(item)\n      );\n    });\n\n  }\n\n  reset() {\n    this.instances.forEach(photoViewInstance => {\n      photoViewInstance.reset();\n    });\n  }\n\n  destroy() {\n    this.instances.forEach(photoViewInstance => {\n      photoViewInstance.destroy();\n    });\n\n    this.instances = null;\n  }\n}\n\nexport default PhotoView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/custom-event/index.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"hammerjs\",\"commonjs2\":\"hammerjs\",\"root\":\"Hammer\"}\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}